# paths/systems-label.yaml

post:
  tags:
    - Root
    - Systems
    - Sync
  summary: Perform an action on a specific recovery system
  description: Perform an action on the recovery system identified by its label.
  operationId: performLabeledSystemAction
  security:
    - rootAuth: []
  parameters:
    - name: label
      in: path
      required: true
      description: The label of the recovery system to perform an action on.
      schema:
        type: string
  requestBody:
    required: true
    content:
      application/json:
        schema:
          oneOf:
            - type: object
              required: [action, mode]
              properties:
                action:
                  type: string
                  enum: [reboot]
                mode:
                  type: string
                  enum: [run, recover]
            - type: object
              required: [action]
              properties:
                action:
                  type: string
                  enum: [create]
                label:
                  type: string
                test-system:
                  type: boolean
                mark-default:
                  type: boolean
                validation-sets:
                  type: array
                  items:
                    type: string
                offline:
                  type: boolean
            - type: object
              required: [action, mode]
              properties:
                action:
                  type: string
                  enum: [do]
                mode:
                  type: string
                  enum: [recover, install, factory-reset]
  responses:
    '200':
      description: The action was successfully initiated.
    '404':
      $ref: '../components/responses/NotFound.yaml'