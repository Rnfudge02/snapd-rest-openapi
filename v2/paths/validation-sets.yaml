# paths/validation-sets.yaml

get:
  tags:
    - AuthenticationRequired
    - Synchronous
  summary: Get all enabled validation sets
  description: |-
    Retrieves a list of all enabled validation sets on the system.
  externalDocs:
    description: |-
      Read more about validation sets on the Canonical Snapcraft documentation.
    url: https://snapcraft.io/docs/validation-sets
  operationId: getValidationSets
  security:
    - PeerAuth: []
  responses:
    200:
      description: A list of validation sets.
      content:
        application/json:
          schema:
            type: array
            items:
              type: object
              properties:
                account-id:
                  type: string
                  description: Identifier for the developer account.
                name:
                  type: string
                  description: Name of the validation set.
                mode:
                  type: string
                  description: Mode of validation the system will use.
                  enum:
                    - monitor
                    - enforce
                pinned-at:
                  type: integer
                  description: The sequence number the set is pinned at (0 if not pinned).
                sequence:
                  type: integer
                  description: The current sequence of the validation set assertion.
                valid:
                  type: boolean
                  description: Reports whether the set is valid for currently installed snaps.
    400:
      $ref: '../components/responses/BadRequest.yaml'
